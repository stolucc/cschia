{% extends "base.html" %}

{% block content %}
    <h1> {{current_user.username}}'s profile information </h1><br>
    <div class="row">
        <div class="col-md-4">
            <ul class="list-group list-group-flush" id="section-buttons">
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#general" aria-expanded="false" aria-controls="general">General Info</button>
                </li>
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#education" aria-expanded="false" aria-controls="education">Education
                    <span class="badge badge-dark badge-pill float-right" id="numEdu">{% if getEduInfo %}{{ getEduInfo|length }}{% endif %}</span></button>
                </li>
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#employment" aria-expanded="false" aria-controls="employment">Employment
                    <span class="badge badge-dark badge-pill float-right" id="numEmploy">{% if getEmployInfo %}{{ getEmployInfo|length }}{% endif %}</span></button>
                </li>
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#societies" aria-expanded="false" aria-controls="societies">Societies
                    <span class="badge badge-dark badge-pill float-right" id="numSoc">{% if getSocInfo %}{{ getSocInfo|length }}{% endif %}</span></button>
                </li>
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#awards" aria-expanded="false" aria-controls="awards">Awards
                    <span class="badge badge-dark badge-pill float-right" id="numAwards">{% if getAwardInfo %}{{ getAwardInfo|length }}{% endif %}</span></button>
                </li>
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#fundingDiv" aria-expanded="false" aria-controls="fundingDiv">Funding Diversification
                    <span class="badge badge-dark badge-pill float-right" id="numFund">{% if getFundInfo %}{{ getFundInfo|length }}{% endif %}</span></button>
                </li>
                <!--<li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#teamMembers" aria-expanded="false" aria-controls="teamMembers">Team Members
                    <span class="badge badge-dark badge-pill float-right" id="numTeam"></span></button>
                </li>-->
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#impacts" aria-expanded="false" aria-controls="impacts">Impacts
                    <span class="badge badge-dark badge-pill float-right" id="numImpacts">{% if getImpInfo %}{{ getImpInfo|length }}{% endif %}</span></button>
                </li>
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#innovCom" aria-expanded="false" aria-controls="innovCom">Innovation and Commercialisation
                    <span class="badge badge-dark badge-pill float-right" id="numInnovCom">{% if getInnInfo %}{{ getInnInfo|length }}{% endif %}</span></button>
                </li>
                <!--<li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#publications" aria-expanded="false" aria-controls="publications">Publications
                    <span class="badge badge-dark badge-pill float-right" id="numPub">{% if getPubInfo %}{{ getPubInfo|length }}{% endif %}</span></button>
                </li>--> <!-- publications moved -->
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#presentations" aria-expanded="false" aria-controls="presentations">Presentations
                    <span class="badge badge-dark badge-pill float-right" id="numPres">{% if getPresInfo %}{{ getPresInfo|length }}{% endif %}</span></button>
                </li>
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#academicCollabs" aria-expanded="false" aria-controls="academicCollabs">Academic Collaborations
                    <span class="badge badge-dark badge-pill float-right" id="numAc">{% if getAcInfo %}{{ getAcInfo|length }}{% endif %}</span></button>
                </li>
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#nonAcademicCollabs" aria-expanded="false" aria-controls="nonAcademicCollabs">Non Academic Collaborations
                    <span class="badge badge-dark badge-pill float-right" id="numNonAc">{% if getNonAcInfo %}{{ getNonAcInfo|length }}{% endif %}</span></button>
                </li>
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#events" aria-expanded="false" aria-controls="events">Events
                    <span class="badge badge-dark badge-pill float-right" id="numEvents">{% if getEvInfo %}{{ getEvInfo|length }}{% endif %}</span></button>
                </li>
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#communications" aria-expanded="false" aria-controls="communications">Communications
                    <span class="badge badge-dark badge-pill float-right" id="numComm">{% if getCommInfo %}{{ getCommInfo|length }}{% endif %}</span></button>
                </li>
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#sfiFundingRatio" aria-expanded="false" aria-controls="sfiFundingRatio">SFI Funding Ratio
                    <span class="badge badge-dark badge-pill float-right" id="numSfi">{% if getSfiInfo %}{{ getSfiInfo|length }}{% endif %}</span></button>
                </li>
                <li class="list-group-item">
                    <button class="btn btn-primary btn-block" type="button" data-toggle="collapse" data-target="#pubEngage" aria-expanded="false" aria-controls="pubEngage">Education and Public Engagement
                    <span class="badge badge-dark badge-pill float-right" id="numPEng">{% if getEdInfo %}{{ getEdInfo|length }}{% endif %}</span></button>
                </li>
            </ul>
        </div>

        <div class="col-md-8">
            <!-- GENERAL INFORMATION -->
            <div class="collapse" id="general">
                <h1>Edit General Information</h1>
                <form action="" method="post">
                    {{ genInfoForm.hidden_tag() }}
                    <div class="form-group">
                        {{ genInfoForm.firstName.label }}
                        {{ genInfoForm.firstName(class="form-control", value=getGenInfo["firstName"]) }}
                        {% for error in genInfoForm.firstName.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        {{ genInfoForm.lastName.label }}
                        {{ genInfoForm.lastName(class="form-control", value=getGenInfo["lastName"]) }}
                        {% for error in genInfoForm.lastName.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        {{ genInfoForm.jobTitle.label }}
                        {{ genInfoForm.jobTitle(class="form-control", value=getGenInfo["jobTitle"]) }}
                        {% for error in genInfoForm.jobTitle.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        {{ genInfoForm.prefix.label }}
                        {{ genInfoForm.prefix(class="form-control", value=getGenInfo["prefix"]) }}
                        {% for error in genInfoForm.lastName.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        {{ genInfoForm.suffix.label }}
                        {{ genInfoForm.suffix(class="form-control", value=getGenInfo["suffix"]) }}
                        {% for error in genInfoForm.suffix.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        {{ genInfoForm.phoneNumPrefix.label }}
                        {{ genInfoForm.phoneNumPrefix(class="form-control", value=getGenInfo["phoneNumPrefix"]) }}
                        {% for error in genInfoForm.phoneNumPrefix.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        {{ genInfoForm.phoneNum.label }}
                        {{ genInfoForm.phoneNum(class="form-control", value=getGenInfo["phoneNum"]) }}
                        {% for error in genInfoForm.phoneNum.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        {{ genInfoForm.email.label }}
                        {{ genInfoForm.email(class="form-control", value=getGenInfo["email"]) }}
                        {% for error in genInfoForm.email.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        {{ genInfoForm.orcid.label }}
                        {{ genInfoForm.orcid(class="form-control", value=getGenInfo["orcid"]) }}
                        {% for error in genInfoForm.orcid.errors %}
                        <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        {{ genInfoForm.genSubmit(class="btn btn-primary") }}
                    </div>
                </form><hr>
            </div>

            <!-- EDUCATION -->
            <div class="collapse" id="education">
                <div class="row">
                    <div class="col-md-7">
                        <h1 id="eduTitle">Add Education Information</h1>
                        <form action="" method="post" id="eduForm">
                            {{ eduForm.hidden_tag() }}
                            <div class="form-group">
                                {{ eduForm.degree.label }}
                                {{ eduForm.degree(class="form-control", id="eduDegree") }}
                                {% for error in eduForm.degree.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ eduForm.fieldOfStudy.label }}
                                {{ eduForm.fieldOfStudy(class="form-control", id="eduFieldOfStudy") }}
                                {% for error in eduForm.fieldOfStudy.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ eduForm.institution.label }}
                                {{ eduForm.institution(class="form-control", id="eduInstitution") }}
                                {% for error in eduForm.institution.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ eduForm.location.label }}
                                {{ eduForm.location(class="form-control", id="eduLoc") }}
                                {% for error in eduForm.location.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ eduForm.yearOfDegreeAward.label }}
                                {{ eduForm.yearOfDegreeAward(class="form-control", id="eduYearDegree") }}
                                {% for error in eduForm.yearOfDegreeAward.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ eduForm.eduSubmit(class="btn btn-primary") }}
                                {{ eduForm.eduEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="eduIndex" />

                                <button class="btn btn-info d-none" type="button" id="eduAddMode">Add new entry</button>
                                
                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#education-show" aria-expanded="false" aria-controls="education-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>

                    <div class="collapse col-md-5 show" id="education-show">
                        {% for item in getEduInfo %}

                        <div class="card mb-3" id="edu{{ loop.index }}">
                            <div class="card-body">
                                <p>Degree: <span class="eduDegree">{{ item["degree"] }}</span></p>
                                <p>Field of study: <span class="eduFieldOfStudy">{{ item["fieldOfStudy"] }}</span></p>
                                <p>Institution: <span class="eduInstitution">{{ item["institution"] }}</span></p>
                                <p>Location: <span class="eduLoc">{{ item["location"] }}</span></p>
                                <p>Year of degree award: <span class="eduYearDegree">{{ item["yearOfDegreeAward"] }}</span></p>

                                <button class="btn btn-secondary" type="button" id="edu{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="edu{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="edu-delete" name="edu-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>
        

            <!-- EMPLOYMENT -->
            <div class="collapse" id="employment">
                <div class="row">
                    <div class="col-md-7">
                        <h1 id="employTitle">Add Employment Information</h1>
                        <form action="" method="post" id="employForm">
                            {{ employForm.hidden_tag() }}
                            <div class="form-group">
                                {{ employForm.company.label }}
                                {{ employForm.company(class="form-control", id="employCompany") }}
                                {% for error in employForm.company.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ employForm.location.label }}
                                {{ employForm.location(class="form-control", id="employLoc") }}
                                {% for error in employForm.location.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ employForm.years.label }}
                                {{ employForm.years(class="form-control", id="employYears") }}
                                {% for error in employForm.years.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ employForm.employSubmit(class="btn btn-primary") }}
                                {{ employForm.employEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="employIndex" />

                                <button class="btn btn-info d-none" type="button" id="employAddMode">Add new entry</button>

                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#employment-show" aria-expanded="false" aria-controls="employment-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>
                
                    <div class="collapse col-md-5 show" id="employment-show">
                        {% for item in getEmployInfo %}

                        <div class="card mb-3" id="employ{{ loop.index }}">
                            <div class="card-body">
                                <p>Institution/company: <span class="employCompany">{{ item["company"] }}</span></p>
                                <p>Location: <span class="employLoc">{{ item["location"] }}</span></p>
                                <p>Years: <span class="employYears">{{ item["years"] }}</span></p>

                                <button class="btn btn-secondary" type="button" id="employ{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="employ{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="emloy-delete" name="employ-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>

            <!-- SOCIETIES -->
            <div class="collapse" id="societies">
                <div class="row">
                    <div class="col-md-7">
                        <h1 id="socTitle">Add Societies Information</h1>
                        <form action="" method="post" id="socForm">
                            {{ socForm.hidden_tag() }}
                            <div class="form-group">
                                {{ socForm.startDate.label }}
                                {{ socForm.startDate(class="form-control", id="socStart") }}
                                {% for error in socForm.startDate.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ socForm.endDate.label }}
                                {{ socForm.endDate(class="form-control", id="socEnd") }}
                                {% for error in socForm.endDate.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ socForm.nameOfSociety.label }}
                                {{ socForm.nameOfSociety(class="form-control", id="socName") }}
                                {% for error in socForm.nameOfSociety.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ socForm.typeOfMembership.label }}
                                {{ socForm.typeOfMembership(class="form-control", id="socMembership") }}
                                {% for error in socForm.typeOfMembership.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ socForm.status.label }}
                                {{ socForm.status(class="form-control", id="socStatus") }}
                                {% for error in socForm.status.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ socForm.socSubmit(class="btn btn-primary") }}
                                {{ socForm.socEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="socIndex" />

                                <button class="btn btn-info d-none" type="button" id="socAddMode">Add new entry</button>

                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#societies-show" aria-expanded="false" aria-controls="societies-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>
                
                    <div class="collapse col-md-5 show" id="societies-show">
                        {% for item in getSocInfo %}

                        <div class="card mb-3" id="soc{{ loop.index }}">
                            <div class="card-body">
                                <p>Start date: <span class="socStart">{{ item["startDate"] }}</span></p>
                                <p>End date: <span class="socEnd">{{ item["endDate"] }}</span></p>
                                <p>Name of society: <span class="socName">{{ item["nameOfSociety"] }}</span></p>
                                <p>Type of membership: <span class="socMembership">{{ item["typeOfMembership"]}}</span></p>
                                <p>Status (if active): <span class="socStatus">{{ item["status"] }}</span></p>

                                <button class="btn btn-secondary" type="button" id="soc{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="soc{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="soc-delete" name="soc-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>

            <!-- AWARDS -->
            <div class="collapse" id="awards">
                <div class="row">
                    <div class="col-md-7">
                        <h1 id="awardsTitle">Add Awards Information</h1>
                        <form action="" method="post" id="awardsForm">
                            {{ awardsForm.hidden_tag() }}
                            <div class="form-group">
                                {{ awardsForm.year.label }}
                                {{ awardsForm.year(class="form-control", id="awardYear") }}
                                {% for error in awardsForm.year.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ awardsForm.awardingBody.label }}
                                {{ awardsForm.awardingBody(class="form-control", id="awardingBody") }}
                                {% for error in awardsForm.awardingBody.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ awardsForm.details.label }}
                                {{ awardsForm.details(class="form-control", id="awardDetails") }}
                                {% for error in awardsForm.details.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ awardsForm.teamMemberName.label }}
                                {{ awardsForm.teamMemberName(class="form-control", id="awardTeam") }}
                                {% for error in awardsForm.teamMemberName.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ awardsForm.awardsSubmit(class="btn btn-primary") }}
                                {{ awardsForm.awardsEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="awardsIndex" />

                                <button class="btn btn-info d-none" type="button" id="awardsAddMode">Add new entry</button>

                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#awards-show" aria-expanded="false" aria-controls="awards-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>
                
                    <div class="collapse col-md-5 show" id="awards-show">
                        {% for item in getAwardInfo %}

                        <div class="card mb-3" id="awards{{ loop.index }}">
                            <div class="card-body">
                                <p>Year: <span class="awardYear">{{ item["year"] }}</span></p>
                                <p>Awarding body: <span class="awardingBody">{{ item["awardingBody"] }}</span></p>
                                <p>Details of award: <span class="awardDetails">{{ item["details"] }}</span></p>
                                <p>Team member name: <span class="awardTeam">Team 9</span></p>

                                <button class="btn btn-secondary" type="button" id="awards{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="awards{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="awards-delete" name="awards-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>

            <!-- FUNDING DIVERSIFICATION -->
            <div class="collapse" id="fundingDiv">
                <div class="row">
                    <div class="col-md-7">
                        <h1 id="fundTitle">Add Funding Diversification Information</h1>
                        <form action="" method="post" id="fundForm">
                            {{ fundingDivForm.hidden_tag() }}
                            <div class="form-group">
                                {{ fundingDivForm.startDate.label }}
                                {{ fundingDivForm.startDate(class="form-control", id="fundStartDate") }}
                                {% for error in fundingDivForm.startDate.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ fundingDivForm.endDate.label }}
                                {{ fundingDivForm.endDate(class="form-control", id="fundEndDate") }}
                                {% for error in fundingDivForm.endDate.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ fundingDivForm.amount.label }}
                                {{ fundingDivForm.amount(class="form-control", id="fundAmount") }}
                                {% for error in fundingDivForm.amount.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ fundingDivForm.fundingBody.label }}
                                {{ fundingDivForm.fundingBody(class="form-control", id="fundBody") }}
                                {% for error in fundingDivForm.fundingBody.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ fundingDivForm.fundingProgramme.label }}
                                {{ fundingDivForm.fundingProgramme(class="form-control", id="fundProgramme") }}
                                {% for error in fundingDivForm.fundingProgramme.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ fundingDivForm.status.label }}
                                {{ fundingDivForm.status(class="form-control", id="fundStatus") }}
                                {% for error in fundingDivForm.status.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ fundingDivForm.primaryAttribution.label }}
                                {{ fundingDivForm.primaryAttribution(class="form-control", id="fundPrimaryAttrib") }}
                                {% for error in fundingDivForm.primaryAttribution.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ fundingDivForm.fundingDivSubmit(class="btn btn-primary") }}
                                {{ fundingDivForm.fundingDivEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="fundingDivIndex" />

                                <button class="btn btn-info d-none" type="button" id="fundingDivAddMode">Add new entry</button>

                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#fundingDiv-show" aria-expanded="false" aria-controls="fundingDiv-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>
                
                    <div class="collapse col-md-5 show" id="funding-show">
                        {% for item in getFundInfo %}

                        <div class="card mb-3" id="fund{{ loop.index }}">
                            <div class="card-body">
                                <p>Start date: <span class="fundStartDate">{{ item["startDate"] }}</span></p>
                                <p>End date: <span class="fundEndDate">{{ item["endDate"] }}</span></p>
                                <p>Amount: <span class="fundAmount">{{ item["amount"] }}</span></p>
                                <p>Funding body: <span class="fundBody">{{ item["fundingBody"] }}</span></p>
                                <p>Funding programme: <span class="fundProgramme">{{ item["fundingProgramme"] }}</span></p>
                                <p>Status (if active or expired): <span class="fundStatus">{{ item["status"] }}</span></p>
                                <p>Primary attribution: <span class="fundPrimaryAttrib">{{ item["primaryAttribution"] }}</span></p>

                                <button class="btn btn-secondary" type="button" id="fund{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="fund{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="fund-delete" name="fund-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>

            <!-- TEAM MEMBERS -->
            <!--<div class="collapse" id="teamMembers">
                <div class="row">
                    <div class="col-md-7">
                        <h1 ic="teamTitle">Add New Team Information</h1>
                        <form action="" method="post" id="teamForm">
                            {{ teamMemForm.hidden_tag() }}
                            <div class="form-group">
                                {{ teamMemForm.startDate.label }}
                                {{ teamMemForm.startDate(class="form-control", id="teamStartDate") }}
                                {% for error in teamMemForm.startDate.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ teamMemForm.departureDate.label }}
                                {{ teamMemForm.departureDate(class="form-control", id="teamDepartDate") }}
                                {% for error in teamMemForm.departureDate.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ teamMemForm.name.label }}
                                {{ teamMemForm.name(class="form-control", id="teamName") }}
                                {% for error in teamMemForm.name.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ teamMemForm.position.label }}
                                {{ teamMemForm.position(class="form-control", id="teamPos") }}
                                {% for error in teamMemForm.position.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ teamMemForm.primaryAttribution.label }}
                                {{ teamMemForm.primaryAttribution(class="form-control", id="teamPrimaryAttrib") }}
                                {% for error in teamMemForm.primaryAttribution.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ teamMemForm.teamMemSubmit(class="btn btn-primary") }}
                                {{ teamMemForm.teamMemEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="teamMemIndex" />

                                <button class="btn btn-info d-none" type="button" id="teamMemAddMode">Add new entry</button>

                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#team-show" aria-expanded="false" aria-controls="team-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="collapse col-md-5 show" id="team-show">
                        {% for item in getNonAcInfo %}

                        <div class="card mb-3" id="team{{ loop.index }}">
                            <div class="card-body">
                                <p>Start date: <span class="teamStartDate">10-01-2018</span></p>
                                <p>Departure date: <span class="teamDepartDate">10-01-2019</span></p>
                                <p>Name: <span class="teamName">CHRX</span></p>
                                <p>Position: <span class="teamPos">Project Manager</span></p>
                                <p>Primary attribution: <span class="teamPrimaryAttrib">TL431I</span></p>

                                <button class="btn btn-secondary" type="button" id="team{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="team{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="team-delete" name="team-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>-->

            <!-- IMPACTS -->
            <div class="collapse" id="impacts">
                <div class="row">
                    <div class="col-md-7">
                        <h1 id="impactTitle">Add Impacts Information</h1>
                        <form action="" method="post" id="impactForm">
                            {{ impactsForm.hidden_tag() }}
                            <div class="form-group">
                                {{ impactsForm.title.label }}
                                {{ impactsForm.title(class="form-control", id="impactsTitle") }}
                                {% for error in impactsForm.title.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ impactsForm.category.label }}
                                {{ impactsForm.category(class="form-control", id="impactCategory") }}
                                {% for error in impactsForm.category.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ impactsForm.primaryBeneficiary.label }}
                                {{ impactsForm.primaryBeneficiary(class="form-control", id="impactPrimaryBen") }}
                                {% for error in impactsForm.primaryBeneficiary.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ impactsForm.primaryAttribution.label }}
                                {{ impactsForm.primaryAttribution(class="form-control", id="impactPrimaryAttrib") }}
                                {% for error in impactsForm.primaryAttribution.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ impactsForm.impactsSubmit(class="btn btn-primary") }}
                                {{ impactsForm.impactsEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="impactsIndex" />

                                <button class="btn btn-info d-none" type="button" id="impactsAddMode">Add new entry</button>

                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#impacts-show" aria-expanded="false" aria-controls="impacts-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>
                
                    <div class="collapse col-md-5 show" id="impacts-show">
                        {% for item in getImpInfo %}

                        <div class="card mb-3" id="impact{{ loop.index }}">
                            <div class="card-body">
                                <p>Title: <span class="impactTitle">{{ item["title"] }}</span></p>
                                <p>Category: <span class="impactCategory">{{ item["category"] }}</span></p>
                                <p>Primary beneficiary: <span class="impactPrimaryBen">{{ item["primaryBeneficiary"] }}</span></p>
                                <p>Primary attribution: <span class="impactPrimaryAttrib">{{ item["primaryAttribution"] }}</span></p>

                                <button class="btn btn-secondary" type="button" id="impact{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="impact{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="impacts-delete" name="impacts-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>

            <!-- INNOVATION AND COMMERCIALISATION -->
            <div class="collapse" id="innovCom">
                <div class="row">
                    <div class="col-md-7">
                        <h1 id="innovComTitle">Add Innovation and Commercialisation Information</h1>
                        <form action="" method="post" id="innovComForm">
                            {{ innovForm.hidden_tag() }}
                            <div class="form-group">
                                {{ innovForm.year.label }}
                                {{ innovForm.year(class="form-control", id="innovComYear") }}
                                {% for error in innovForm.year.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ innovForm.type.label }}
                                {{ innovForm.type(class="form-control", id="innovComType") }}
                                {% for error in innovForm.type.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ innovForm.title.label }}
                                {{ innovForm.title(class="form-control", id="innovComTitle2") }}
                                {% for error in innovForm.title.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ innovForm.primaryAttribution.label }}
                                {{ innovForm.primaryAttribution(class="form-control", id="innovComPrimaryAttrib") }}
                                {% for error in innovForm.primaryAttribution.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ innovForm.innovSubmit(class="btn btn-primary") }}
                                {{ innovForm.innovEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="innovIndex" />

                                <button class="btn btn-info d-none" type="button" id="innovAddMode">Add new entry</button>

                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#innovCom-show" aria-expanded="false" aria-controls="innovCom-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>
                
                    <div class="collapse col-md-5 show" id="innovCom-show">
                        {% for item in getInnInfo %}

                        <div class="card mb-3" id="innovCom{{ loop.index }}">
                            <div class="card-body">
                                <p>Year: <span class="innovComYear">{{ item["year"] }}</span></p>
                                <p>Type: <span class="innovComType">.{{ item["type"] }}</span></p>
                                <p>Title: <span class="innovComTitle">{{ item["title"] }}</span></p>
                                <p>Primary attribution: <span class="innovComPrimaryAttrib">{{ item["primaryAttribution"] }}</span></p>

                                <button class="btn btn-secondary" type="button" id="innovCom{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="innovCom{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="innovCom-delete" name="innovCom-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>

            <!-- PRESENTATIONS -->
            <div class="collapse" id="presentations">
                <div class="row">
                    <div class="col-md-7">
                        <h1 id="presTitle">Add Presentations Information</h1>
                        <form action="" method="post" id="presForm">
                            {{ presForm.hidden_tag() }}
                            <div class="form-group">
                                {{ presForm.year.label }}
                                {{ presForm.year(class="form-control", id="presYear") }}
                                {% for error in presForm.year.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ presForm.title.label }}
                                {{ presForm.title(class="form-control", id="presTitle2") }}
                                {% for error in presForm.title.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ presForm.eventType.label }}
                                {{ presForm.eventType(class="form-control", id="presEventType") }}
                                {% for error in presForm.eventType.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ presForm.organisingBody.label }}
                                {{ presForm.organisingBody(class="form-control", id="presOrganBody") }}
                                {% for error in presForm.organisingBody.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ presForm.location.label }}
                                {{ presForm.location(class="form-control", id="presLoc") }}
                                {% for error in presForm.location.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ presForm.primaryAttribution.label }}
                                {{ presForm.primaryAttribution(class="form-control", id="presPrimaryAttrib") }}
                                {% for error in presForm.primaryAttribution.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ presForm.presSubmit(class="btn btn-primary") }}
                                {{ presForm.presEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="presIndex" />

                                <button class="btn btn-info d-none" type="button" id="presAddMode">Add new entry</button>

                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#presentations-show" aria-expanded="false" aria-controls="presentations-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>
                
                    <div class="collapse col-md-5 show" id="presentations-show">
                        {% for item in getPresInfo %}

                        <div class="card mb-3" id="pres{{ loop.index }}">
                            <div class="card-body">
                                <p>Year: <span class="presYear">{{ item["year"] }}</span></p>
                                <p>Title: <span class="presTitle">{{ item["title"] }}</span></p>
                                <p>Event type: <span class="presEventType">{{ item["eventType"] }}</span></p>
                                <p>Organising body: <span class="presOrganBody">{{ item["organisingBody"] }}</span></p>
                                <p>Location: <span class="presLoc">{{ item["location"] }}</span></p>
                                <p>Primary attribution: <span class="presPrimaryAttrib">{{ item["primaryAttribution"] }}</span></p>

                                <button class="btn btn-secondary" type="button" id="pres{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="pres{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="presentations-delete" name="presentations-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>

            <!-- ACADEMIC COLLABORATIONS -->
            <div class="collapse" id="academicCollabs">
                <div class="row">
                    <div class="col-md-7">
                        <h1 id="acColTitle">Add Academic Collaborations</h1>
                        <form action="" method="post" id="acColForm">
                            {{ academicCollabsForm.hidden_tag() }}
                            <div class="form-group">
                                {{ academicCollabsForm.startDate.label }}
                                {{ academicCollabsForm.startDate(class="form-control", id="acColStartDate") }}
                                {% for error in academicCollabsForm.startDate.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ academicCollabsForm.endDate.label }}
                                {{ academicCollabsForm.endDate(class="form-control", id="acColEndDate") }}
                                {% for error in academicCollabsForm.endDate.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ academicCollabsForm.nameOfInstitution.label }}
                                {{ academicCollabsForm.nameOfInstitution(class="form-control", id="acColInstitution") }}
                                {% for error in academicCollabsForm.nameOfInstitution.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ academicCollabsForm.department.label }}
                                {{ academicCollabsForm.department(class="form-control", id="acColDepartment") }}
                                {% for error in academicCollabsForm.department.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ academicCollabsForm.nameOfCollaborator.label }}
                                {{ academicCollabsForm.nameOfCollaborator(class="form-control", id="acColName") }}
                                {% for error in academicCollabsForm.nameOfCollaborator.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ academicCollabsForm.goal.label }}
                                {{ academicCollabsForm.goal(class="form-control", id="acColGoal") }}
                                {% for error in academicCollabsForm.goal.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ academicCollabsForm.frequency.label }}
                                {{ academicCollabsForm.frequency(class="form-control", id="acColFreq") }}
                                {% for error in academicCollabsForm.frequency.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ academicCollabsForm.primaryAttribution.label }}
                                {{ academicCollabsForm.primaryAttribution(class="form-control", id="acColPrimaryAttrib") }}
                                {% for error in academicCollabsForm.primaryAttribution.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ academicCollabsForm.academicCollabsSubmit(class="btn btn-primary") }}
                                {{ academicCollabsForm.academicCollabsEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="acIndex" />

                                <button class="btn btn-info d-none" type="button" id="acAddMode">Add new entry</button>

                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#academicCollabs-show" aria-expanded="false" aria-controls="academicCollabs-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>
                
                    <div class="collapse col-md-5 show" id="academicCollabs-show">
                        {% for item in getAcInfo %}

                        <div class="card mb-3" id="acCol{{ loop.index }}">
                            <div class="card-body">
                                <p>Start date: <span class="acColStartDate">{{ item["startDate"] }}</span></p>
                                <p>End date: <span class="acColEndDate">{{ item["endDate"] }}</span></p>
                                <p>Name of institution: <span class="acColInstitution">{{ item["nameOfInstitution"] }}</span></p>
                                <p>Department within institution: <span class="acColDepartment">{{ item["department"] }}</span></p>
                                <p>Name of collaborator: <span class="acColName">{{ item["nameOfCollaborator"] }}</span></p>
                                <p>Primary goal: <span class="acColGoal">{{ item["goal"] }}</span></p>
                                <p>Frequency of interaction: <span class="acColFreq">{{ item["frequency"] }}</span></p>
                                <p>Primary attribution: <span class="acColPrimaryAttrib">{{ item["primaryAttribution"] }}</span></p>

                                <button class="btn btn-secondary" type="button" id="acCol{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="acCol{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="acCol-delete" name="acCol-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>

            <!-- NON ACADEMIC COLLABORATIONS -->
            <div class="collapse" id="nonAcademicCollabs">
                <div class="row">
                    <div class="col-md-7">
                        <h1 id="nonAcColTitle">Add Non Academic Collaborations</h1>
                        <form action="" method="post" id="nonAcColForm">
                            {{ nonAcademicCollabsForm.hidden_tag() }}
                            <div class="form-group">
                                {{ nonAcademicCollabsForm.startDate.label }}
                                {{ nonAcademicCollabsForm.startDate(class="form-control", id="nonAcColStartDate") }}
                                {% for error in nonAcademicCollabsForm.startDate.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ nonAcademicCollabsForm.endDate.label }}
                                {{ nonAcademicCollabsForm.endDate(class="form-control", id="nonAcColEndDate") }}
                                {% for error in nonAcademicCollabsForm.endDate.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ nonAcademicCollabsForm.nameOfInstitution.label }}
                                {{ nonAcademicCollabsForm.nameOfInstitution(class="form-control", id="nonAcColInstitution") }}
                                {% for error in nonAcademicCollabsForm.nameOfInstitution.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ nonAcademicCollabsForm.department.label }}
                                {{ nonAcademicCollabsForm.department(class="form-control", id="nonAcColDepartment") }}
                                {% for error in nonAcademicCollabsForm.department.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ nonAcademicCollabsForm.nameOfCollaborator.label }}
                                {{ nonAcademicCollabsForm.nameOfCollaborator(class="form-control", id="nonAcColName") }}
                                {% for error in nonAcademicCollabsForm.nameOfCollaborator.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ nonAcademicCollabsForm.goal.label }}
                                {{ nonAcademicCollabsForm.goal(class="form-control", id="nonAcColGoal") }}
                                {% for error in nonAcademicCollabsForm.goal.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ nonAcademicCollabsForm.frequency.label }}
                                {{ nonAcademicCollabsForm.frequency(class="form-control", id="nonAcColFreq") }}
                                {% for error in nonAcademicCollabsForm.frequency.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ nonAcademicCollabsForm.primaryAttribution.label }}
                                {{ nonAcademicCollabsForm.primaryAttribution(class="form-control", id="nonAcColPrimaryAttrib") }}
                                {% for error in nonAcademicCollabsForm.primaryAttribution.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ nonAcademicCollabsForm.nonAcademicCollabsSubmit(class="btn btn-primary") }}
                                {{ nonAcademicCollabsForm.nonAcademicCollabsEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="nonAcIndex" />

                                <button class="btn btn-info d-none" type="button" id="nonAcAddMode">Add new entry</button>

                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#nonAcademicCollabs-show" aria-expanded="false" aria-controls="nonAcademicCollabs-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>
                
                    <div class="collapse col-md-5 show" id="nonAcademicCollabs-show">
                        {% for item in getNonAcInfo %}

                        <div class="card mb-3" id="nonAcCol{{ loop.index }}">
                            <div class="card-body">
                                <p>Start date: <span class="nonAcColStartDate">{{ item["startDate"] }}</span></p>
                                <p>End date: <span class="nonAcColEndDate">{{ item["endDate"] }}</span></p>
                                <p>Name of institution: <span class="nonAcColInstitution">{{ item["nameOfInstitution"] }}</span></p>
                                <p>Department within institution: <span class="nonAcColDepartment">{{ item["department"] }}</span></p>
                                <p>Name of collaborator: <span class="nonAcColName">{{ item["nameOfCollaborator"] }}</span></p>
                                <p>Primary goal: <span class="nonAcColGoal">{{ item["goal"] }}</span></p>
                                <p>Frequency of interaction: <span class="nonAcColFreq">{{ item["frequency"] }}</span></p>
                                <p>Primary attribution: <span class="nonAcColPrimaryAttrib">{{ item["primaryAttribution"] }}</span></p>

                                <button class="btn btn-secondary" type="button" id="nonAcCol{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="nonAcCol{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="nonAcCol-delete" name="nonAcCol-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>

            <!-- EVENTS -->
            <div class="collapse" id="events">
                <div class="row">
                    <div class="col-md-7">
                        <h1 id="eventTitle">Add Events</h1>
                        <form action="" method="post" id="eventForm">
                            {{ eventsForm.hidden_tag() }}
                            <div class="form-group">
                                {{ eventsForm.startDate.label }}
                                {{ eventsForm.startDate(class="form-control", id="eventStartDate") }}
                                {% for error in eventsForm.startDate.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ eventsForm.endDate.label }}
                                {{ eventsForm.endDate(class="form-control", id="eventEndDate") }}
                                {% for error in eventsForm.endDate.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ eventsForm.title.label }}
                                {{ eventsForm.title(class="form-control", id="eventTitle2") }}
                                {% for error in eventsForm.title.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ eventsForm.eventType.label }}
                                {{ eventsForm.eventType(class="form-control", id="eventEventType") }}
                                {% for error in eventsForm.eventType.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ eventsForm.role.label }}
                                {{ eventsForm.role(class="form-control", id="eventRole") }}
                                {% for error in eventsForm.role.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ eventsForm.location.label }}
                                {{ eventsForm.location(class="form-control", id="eventLoc") }}
                                {% for error in eventsForm.location.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ eventsForm.primaryAttribution.label }}
                                {{ eventsForm.primaryAttribution(class="form-control", id="eventPrimaryAttrib") }}
                                {% for error in eventsForm.primaryAttribution.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ eventsForm.eventsSubmit(class="btn btn-primary") }}
                                {{ eventsForm.eventsEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="eventsIndex" />

                                <button class="btn btn-info d-none" type="button" id="eventsAddMode">Add new entry</button>

                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#events-show" aria-expanded="false" aria-controls="events-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>
                
                    <div class="collapse col-md-5 show" id="events-show">
                        {% for item in getEvInfo %}

                        <div class="card mb-3" id="event{{ loop.index }}">
                            <div class="card-body">
                                <p>Start date: <span class="eventStartDate">{{ item["startDate"] }}</span></p>
                                <p>End date: <span class="eventEndDate">{{ item["endDate"] }}</span></p>
                                <p>Title: <span class="eventTitle">{{ item["title"] }}</span></p>
                                <p>Event type: <span class="eventEventType">{{ item["eventType"] }}</span></p>
                                <p>Role: <span class="eventRole">{{ item["role"] }}</span></p>
                                <p>Location of event: <span class="eventLoc">{{ item["location"] }}</span></p>
                                <p>Primary attribution: <span class="eventPrimaryAttrib">{{ item["primaryAttribution"] }}</span></p>

                                <button class="btn btn-secondary" type="button" id="event{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="event{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="event-delete" name="event-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>

            <!-- COMMUNCATIONS OVERVIEW -->
            <div class="collapse" id="communications">
                <div class="row">
                    <div class="col-md-7">
                        <h1 id="commTitle">Communications Overview</h1>
                        <form action="" method="post" id="commForm">
                            {{ commForm.hidden_tag() }}
                            <div class="form-group">
                                {{ commForm.year.label }}
                                {{ commForm.year(class="form-control", id="commYear") }}
                                {% for error in commForm.year.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ commForm.numberOfLectures.label }}
                                {{ commForm.numberOfLectures(class="form-control", id="commNumPublic") }}
                                {% for error in commForm.numberOfLectures.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ commForm.numberOfVisits.label }}
                                {{ commForm.numberOfVisits(class="form-control", id="commNumVisits") }}
                                {% for error in commForm.numberOfVisits.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ commForm.numberOfMediaInteracations.label }}
                                {{ commForm.numberOfMediaInteracations(class="form-control", id="commNumMedia") }}
                                {% for error in commForm.numberOfMediaInteracations.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ commForm.commSubmit(class="btn btn-primary") }}
                                {{ commForm.commEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="commIndex" />

                                <button class="btn btn-info d-none" type="button" id="commAddMode">Add new entry</button>

                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#communications-show" aria-expanded="false" aria-controls="communications-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>
                
                    <div class="collapse col-md-5 show" id="communications-show">
                        {% for item in getCommInfo %}

                        <div class="card mb-3" id="comm{{ loop.index }}">
                            <div class="card-body">
                                <p>Year: <span class="commYear">{{ item["year"] }}</span></p>
                                <p>Num. public lectures/demonstrations: <span class="commNumPublic">{{ item["numberOfLectures"] }}</span></p>
                                <p>Num. visits: <span class="commNumVisits">{{ item["numberOfVisits"] }}</span></p>
                                <p>Num. media interactions: <span class="commNumMedia">{{ item["numberOfMediaInteracations"] }}</span></p>

                                <button class="btn btn-secondary" type="button" id="comm{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="comm{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="comm-delete" name="comm-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>

            <!-- SFI Funding Ratio -->
            <div class="collapse" id="sfiFundingRatio">
                <div class="row">
                    <div class="col-md-7">
                        <h1 id="sfiTitle">SFI Funding Ratio</h1>
                        <form action="" method="post" id="sfiForm">
                            {{ fundRatioForm.hidden_tag() }}
                            <div class="form-group">
                                {{ fundRatioForm.year.label }}
                                {{ fundRatioForm.year(class="form-control", id="sfiYear") }}
                                {% for error in fundRatioForm.year.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ fundRatioForm.percentage.label }}
                                {{ fundRatioForm.percentage(class="form-control", id="sfiPercentage") }}
                                {% for error in fundRatioForm.percentage.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ fundRatioForm.sfiFundingRatioSubmit(class="btn btn-primary") }}
                                {{ fundRatioForm.sfiFundingRatioEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="sfiIndex" />

                                <button class="btn btn-info d-none" type="button" id="sfiAddMode">Add new entry</button>

                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#sfiFundingRatio-show" aria-expanded="false" aria-controls="sfiFundingRatio-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>
                
                   <div class="collapse col-md-5 show" id="sfiFundingRatio-show">
                        {% for item in getSfiInfo %}

                        <div class="card mb-3" id="sfi{{ loop.index }}">
                            <div class="card-body">
                                <p>Year: <span class="sfiYear">{{ item["year"] }}</span></p>
                                <p>Percentage: <span class="sfiPercentage">{{ item["percentage"] }}</span></p>

                                <button class="btn btn-secondary" type="button" id="sfi{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="sfi{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="sfi-delete" name="sfi-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>

            <!-- EDUCATION AND PUBLIC ENGAGEMENT -->
            <div class="collapse" id="pubEngage">
                <div class="row">
                    <div class="col-md-7">
                        <h1 id="pEngTitle">Education and Public Engagement</h1>
                        <form action="" method="post" id="pEngForm">
                            {{ pubEngageForm.hidden_tag() }}
                            <div class="form-group">
                                {{ pubEngageForm.nameOfProject.label }}
                                {{ pubEngageForm.nameOfProject(class="form-control", id="pEngName") }}
                                {% for error in pubEngageForm.nameOfProject.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ pubEngageForm.startDate.label }}
                                {{ pubEngageForm.startDate(class="form-control", id="pEngStartDate") }}
                                {% for error in pubEngageForm.startDate.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ pubEngageForm.endDate.label }}
                                {{ pubEngageForm.endDate(class="form-control", id="pEngEndDate") }}
                                {% for error in pubEngageForm.endDate.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ pubEngageForm.activityType.label }}
                                {{ pubEngageForm.activityType(class="form-control", id="pEngActivityType") }}
                                {% for error in pubEngageForm.activityType.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ pubEngageForm.otherType.label }}
                                {{ pubEngageForm.otherType(class="form-control", id="pEngActivityOther") }}
                                {% for error in pubEngageForm.otherType.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ pubEngageForm.projectTopic.label }}
                                {{ pubEngageForm.projectTopic(class="form-control", id="pEngTopic") }}
                                {% for error in pubEngageForm.projectTopic.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ pubEngageForm.otherType.label }}
                                {{ pubEngageForm.otherType(class="form-control", id="pEngTopicOther") }}
                                {% for error in pubEngageForm.otherType.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ pubEngageForm.target.label }}
                                {{ pubEngageForm.target(class="form-control", id="pEngArea") }}
                                {% for error in pubEngageForm.target.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ pubEngageForm.localCountry.label }}
                                {{ pubEngageForm.localCountry(class="form-control", id="pEngAreaOther") }}
                                {% for error in pubEngageForm.localCountry.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
                            </div>
                            <div class="form-group">
                                {{ pubEngageForm.pubEngageSubmit(class="btn btn-primary") }}
                                {{ pubEngageForm.pubEngageEdit(class="btn btn-primary d-none") }}

                                <input type="hidden" name="" id="pubEngageIndex" />

                                <button class="btn btn-info d-none" type="button" id="pubEngageAddMode">Add new entry</button>

                                <button class="btn btn-primary float-right" type="button" data-toggle="collapse" data-target="#pubEngage-show" aria-expanded="false" aria-controls="pubEngage-show">Show / Hide current</button>
                            </div>
                        </form>
                    </div>
                
                    <div class="collapse col-md-5 show" id="pubEngage-show">
                        {% for item in getEdInfo %}

                        <div class="card mb-3" id="pEng{{ loop.index }}">
                            <div class="card-body">
                                <p>Name of project: <span class="pEngName">{{ item["nameOfProject"] }}</span></p>
                                <p>Start date: <span class="pEngStartDate">{{ item["startDate"] }}</span></p>
                                <p>End date: <span class="pEngEndDate">{{ item["endDate"] }}</span></p>
                                <p>Activity type: <span class="pEngActivityType">{{ item["activityType"] }}</span></p>
                                <p>If other selected: <span class="pEngActivityOther">{{ item["otherType"] }}</span></p>
                                <p>Project topic: <span class="pEngTopic">{{ item["projectTopic"] }}</span></p>
                                <p>If other selected: <span class="pEngTopicOther">{{ item["otherTopic"] }}</span></p>
                                <p>Target geographical area: <span class="pEngArea">{{ item["target"] }}</span></p>
                                <p>If local: <span class="pEngAreaOther">{{ item["localCountry"] }}</span></p>

                                <button class="btn btn-secondary" type="button" id="pEng{{ loop.index }}-clone">Copy</button>
                                <button class="btn btn-secondary" type="button" id="pEng{{ loop.index }}-edit">Edit</button>
                                <form class="deleteForms" action="" method="post">
                                    <input type="hidden" name="{{ loop.index }}" />
                                    <input type="submit" class="btn btn-danger" id="pEng-delete" name="pEng-delete" value="Delete">
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <hr>
            </div>
        </div>
    </div>
{% endblock %}
